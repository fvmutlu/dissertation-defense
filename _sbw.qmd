## Cache Read Rate Control

Placeholder.

::: {.footer}
Virtual Plane Cache Read Rate Control
:::

## Data Plane Caching

When data for $k \not \in \bigcup_{\jin} \mc{K}_{n_j}(\tau)$ arrives at $n$ at instance $\tau$, [data plane caching policy]{.body-highlight} at $n$ behaves as follows:

::: {style="font-size: 65%;"}
```pseudocode
#| html-line-number: true
\begin{algorithm}
\caption{Data Plane Caching w/ Virtual Plane Cache Read Rate Control}
\begin{algorithmic}
    \State Find cache tier $j^* = \argmax_{\jin} \bar{F}^k_{n_j}(t)$.
    \If{$\bar{F}^k_{n_{j^*}}(t) \geq \max_{\{ b:(n,b) \in \mc{L}^k \}} \bar{F}_{nb}^k(t)$}
        \If{$\bar{F}_{n,in}^k(t) > 0$ and $|\mc{K}_{n_{j^*}}| < L_{n_{j^*}}$}
            \State Admit $k$ into $j^*$.
        \Else
            \State Find $k_{min} = \argmin_{k \in \mc{K}_{n_{j^*}}(\tau)} \bar{F}_{n,in}^k(t)$.
            \If{$\bar{F}_{n,in}^k(t) > \bar{F}_{n,in}^{k_{min}}(t)$}
                \State Replace $k_{min}$ with $k$, and restart procedure for $k_{min}$.
            \EndIf
        \EndIf
    \EndIf
\end{algorithmic}
\end{algorithm}
```
:::

::: {.footer}
Virtual Plane Cache Read Rate Control
:::

## Cache Read Rate Control

::: columns
::: {.column width=50%}
::: {style="font-size: 50%;"}
```pseudocode
#| html-line-number: true
#| html-caption-prefix: "Procedure:"
\begin{algorithm}
\caption{Virtual Plane Caching}
\begin{algorithmic}
    \State Determine objects $k_1, k_2, ...$ such that $V^{k_1}_n(t) \geq V^{k_2}_n(t) \geq ... V^{k_{K}}_n(t)$.
    \State Initialize $i \gets 1$.
    \While{$\sum_{\kin} s\knjt < L_{n_j}, \;\; \sum_{\kin} r\knjt < R_{n_j}, \; \exists \, \jin$ $\hspace{35pt}$ and $V^{k_i}_n(t) > 0$ and $i \leq K$}
        \State $j^* \gets \argmax_{\jin} \left(R_{n_j} - \sum_{\kin} s\knjt r\knjt \right) V^{k_i}_n(t)$.
        \State $s^{k_i}_{n_{j^*}}(t) \gets 1$, $r^{k_i}_{n_{j^*}}(t) \gets \min\left( \big(R_{n_j} - \sum_{\kin} s\knjt r\knjt \big), V^{k_i}_n(t)\right)$.
        \State $i \gets i+1$
    \EndWhile
\end{algorithmic}
\end{algorithm}
```
:::
:::
::: {.column width=50%}
::: {style="font-size: 50%;"}
```pseudocode
#| html-line-number: true
#| html-caption-prefix: "Procedure:"
\begin{algorithm}
\caption{Virtual Plane Forwarding}
\begin{algorithmic}
    \State Initialize set $X_n \gets \{(b, k): \bin, \kin, (n,b) \in \mc{L}^k \}$
    \State $(b^*,k^*) \gets \argmax_{(b,k) \in X_n} \left( V^k_n(t) - V^k_b(t) \right)$
    \While{$\sum_{\kin} \mu^k_{nb}(t) < C_{bn}, \; \exists \, \nbin$ and $X_n \not = \varnothing$ \\ $\hspace{35pt}$ and $V^{k^*}_n(t) - V^{k^*}_{b^*}(t) > 0$}
        \State $\mu^{k^*}_{nb^*}(t) \gets \min \Big( \big( C_{bn} - \sum_{\kin} \mu^k_{nb}(t) \big),$ \\ $\big( V^{k^*}_n(t) - \sum_{\jin} s^{k^*}_{n_j}(t) r^{k^*}_{n_j}(t) - \sum_{\nbin^{k^*}} \mu^{k^*}_{nb}(t) \big) \Big)$
        \State $X_n \gets X_n \setminus \{ (b^*,k^*) \}$
        \State $(b^*,k^*) \gets \argmax_{(b,k) \in X_n} \left( V^k_n(t) - V^k_b(t) \right)$
    \EndWhile
\end{algorithmic}
\end{algorithm}
```
:::
:::
:::

::: {.footer}
Virtual Plane Cache Read Rate Control
:::

## Cache Read Rate Control

::: {style="font-size: 50%;"}
```pseudocode
#| html-line-number: true
\begin{algorithm}
\caption{No-underflow Virtual Plane Caching and Forwarding with Cache Read Rate Control}
\begin{algorithmic}
    \State Observe $V\knt$ and $V^k_b(t)$ for all $\kin$ and $\nbin$.
    \State Initialize $s\knjt \gets 0$, $r\knjt \gets 0$, $\mu^k_{nb}(t) \gets 0$ for all $\kin$, $\jin$, $\nbin$.
    \State Perform caching, then forwarding, according to the procedures below.
    \Procedure{VirtualPlaneCaching}{}
        \State Determine objects $k_1, k_2, ...$ such that $V^{k_1}_n(t) \geq V^{k_2}_n(t) \geq ... V^{k_{K}}_n(t)$.
        \State $i \gets 1$.
        \While{$\sum_{\kin} s\knjt < L_{n_j}, \;\; \sum_{\kin} r\knjt < R_{n_j}, \; \exists \, \jin$ and $V^{k_i}_n(t) > 0$ and $i \leq |\mc{K}|$}
            \State $j^* \gets \argmax_{\jin} \left(R_{n_j} - \sum_{\kin} s\knjt r\knjt \right) V^{k_i}_n(t)$.
            \State $s^{k_i}_{n_{j^*}}(t) \gets 1$, $r^{k_i}_{n_{j^*}}(t) \gets \min\left( \big(R_{n_j} - \sum_{\kin} s\knjt r\knjt \big), V^{k_i}_n(t)\right)$.
            \State $i \gets i+1$
        \EndWhile
    \EndProcedure
    \Procedure{VirtualPlaneForwarding}{}
        \State Initialize set $X_n \gets \{(b, k): \bin, \kin, (n,b) \in \mc{L}^k \}$
        \State $(b^*,k^*) \gets \argmax_{(b,k) \in X_n} \left( V^k_n(t) - V^k_b(t) \right)$
        \While{$\sum_{\kin} \mu^k_{nb}(t) < C_{bn}, \; \exists \, \nbin$ and $X_n \not = \varnothing$ and $V^{k^*}_n(t) - V^{k^*}_{b^*}(t) > 0$}
            \State $\mu^{k^*}_{nb^*}(t) \gets \min \Big( \big( C_{bn} - \sum_{\kin} \mu^k_{nb}(t) \big), \big( V^{k^*}_n(t) - \sum_{\jin} s^{k^*}_{n_j}(t) r^{k^*}_{n_j}(t) - \sum_{\nbin^{k^*}} \mu^{k^*}_{nb}(t) \big) \Big)$
            \State $X_n \gets X_n \setminus \{ (b^*,k^*) \}$
            \State $(b^*,k^*) \gets \argmax_{(b,k) \in X_n} \left( V^k_n(t) - V^k_b(t) \right)$
        \EndWhile
    \EndProcedure
\end{algorithmic}
\end{algorithm}
```
:::

::: {.footer}
Virtual Plane Cache Read Rate Control
:::